@prefix sp: <http://spinrdf.org/sp#>.
@prefix spin: <http://spinrdf.org/spin#>.

[ a       sp:Select ;
	sp:text """
SELECT ?this (COUNT(?object) AS ?count)
WHERE {
	?this ?arg1 ?object
}
GROUP BY ?this
ORDER BY ?count
""";
  sp:resultVariables (
  	spin:_this
	[ a sp:Count ;
	  sp:as _:count ;
	  sp:expression _:object
	]
  ) ;
  sp:where ([ sp:object _:object ;
              sp:predicate spin:_arg1 ;
              sp:subject spin:_this
            ]) ;
  sp:groupBy (spin:_this) ;
  sp:orderBy ([a sp:Asc; sp:expression _:count])
].

_:object sp:varName "object" .
_:count  sp:varName "count" .
